---
layout: post
title: Joomla to Drupal import
created: 1312969789
---
<p>I generally find that in the process of migrating a website to a new system or framework, importing and moving data is the most fraught, frustrating and troublesome part of the process. If you&#39;re moving content from a vanilla installation to another vanilla installation you might be in luck, but really, what are the chances of that?<br /><br />I long ago decided to merge a joomla 1.5 site I have into a new site I was setting up in drupal 7, the content that needed to come across was:</p><ul><li><a href="http://www.virtuemart.net/" target="_blank">virtuemart</a> products into <a href="http://www.ubercart.org/" target="_blank">ubercart</a> and theoretically, order records</li><li>several hundred articles written by a dozen different authors, most with media</li><li>aforementioned authors&#39; user records</li></ul><p>I have to admit that for the products, as there were less than a dozen, I just reentered them all manually, fairly painless and I wasn&#39;t too fussed about transferring customer and order records as No-one has ever used the feature particulary widely anyway.<br /><br />Next came attempting to move the articles into drupal nodes, and this was the most fraught and the primary reason for the post, a place for me to remember for future reference and advice for anyone else attempting the task. I wasn&#39;t attempting anything particularly complicated matching various fields to cck values, taxonomy or anything like that.<br /><br />I&#39;ve always struggled to find joomla components or modules that I like (one of the many reasons for moving the site to drupal) and exporting is no exception. Most of the export modules only export in XML, which I&#39;m not averse to, but I feel more comfortable manipulating csv files in excel than XML files. There is <a href="http://www.jix.com.au" target="_blank">jix</a>, but I can&#39;t get my head around what on earth you&#39;re supposed to do with it, so I actually ended up just doing a csv database dump out of phpmyadmin, make sure you check the &quot;include headers&quot; box when you export.<br /><br />One piece of advice with regards to csv files and manipulating them. Whilst excel does a fair job in presenting and manipulating the data, it&#39;s a shocker when it comes to re-saving the csv. I&#39;m mot completely sure what it does, but whenever I try to import an excel csv file into any kind of open source web system, it hardly ever works. So once you&#39;ve done any manipulation, I recommend opening the csv in open office and re-saving, or just use open office in the first place of course! Also make sure that you check any options along the lines of&nbsp; &quot;enclose fields with....&quot;, especially if your export contains HTML values, which it probably does.<br /><br />For importing the data into drupal 7 I used the <a href="http://drupal.org/project/feeds" target="_blank">feeds</a> module as <a href="http://drupal.org/project/node_import" target="_blank">node import</a> isn&#39;t yet&nbsp; ported to drupal 7. This is a fairly solid module and I didn&#39;t have any major issues with it per se, my main gripe would be I wish you could also import data into the &quot;updated&quot; field, but that&#39;s not a deal breaker.<br /><br />Through trial and error of several import jobs, here a few nuggets of advice for making your imports easier.<br /><br />Dates from joomla will need to be converte into unix time stamps, I found <a href="http://stackoverflow.com/questions/1703505/excel-date-to-unix-timestamp" target="_blank">this helpful stack overflow post</a> that explains how to do that and of course, using a spreadsheet, that job can be automated.<br /><br />Joomla breaks it&#39;s intro/summary text and body text fields into two separate fields and assembles them together when displaying content. If you want both these values to be imported into a nodes body field, you will need to do some concatenation wizardy in a spreadsheet.<br /><br />I had to bulk update user Ids in a spreadsheet I order to reflect the matching Ids in drupal, this was a fairly longwinded process and after messing up the resulting csv after some weird encoding export issue, I ended up abandoning importing user Ids.<br /><br />So all is left is to delete all the various columns you&#39;re not bothered about importing, load up your csv file into feeds and hopefully watch that blue bar fly across the screen. If it all goes wrong fortunately the module has a handy feature for deleting the last import and you can start again.</p>
